{"remainingRequest":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/src/views/Reservations.vue?vue&type=style&index=0&id=3c6bca6c&lang=scss&scoped=true&","dependencies":[{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/src/views/Reservations.vue","mtime":1602609006981},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmgyIHsKCXBvc2l0aW9uOiByZWxhdGl2ZTsKCWEgewoJCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCQl0b3A6IDA7CgkJcmlnaHQ6IDA7Cgl9Cn0K"},{"version":3,"sources":["Reservations.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Reservations.vue","sourceRoot":"src/views","sourcesContent":["<script lang=\"ts\">\n\timport { Component, Vue } from 'vue-property-decorator'\n\timport { checkLoggedIn, getAll, getReservations, deleteReservation } from '@/services/api'\n\timport Loading from '@/components/Loading.vue'\n\timport ItemCard from '@/components/ItemCard.vue'\n\n\t@Component({\n\t\tcomponents: { Loading, ItemCard }\n\t})\n\texport default class Reservations extends Vue {\n\t\tpublic loading: boolean = false\n\n\t\tpublic get rooms() {\n\t\t\treturn this.$store.state.rooms || []\n\t\t}\n\n\t\tpublic get clients() {\n\t\t\treturn this.$store.state.clients || []\n\t\t}\n\n\t\tpublic get bills() {\n\t\t\treturn this.$store.state.bills || []\n\t\t}\n\n\t\tpublic get reservations() {\n\t\t\treturn this.$store.state.reservations || []\n\t\t}\n\n\t\tprivate async created() {\n\t\t\tif (checkLoggedIn()) {\n\t\t\t\tthis.loading = true\n\t\t\t\tawait getAll()\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t}\n\n\t\tpublic client(reservation) {\n\t\t\treturn this.clients.find((client) => client.id === reservation.client) || { name: 'No client' }\n\t\t}\n\n\t\tpublic bill(reservation) {\n\t\t\treturn this.rooms.find((room) => room.id === reservation.room)\n\t\t}\n\n\t\tpublic room(reservation) {\n\t\t\treturn this.bills.find((bill) => bill.id === reservation.bill)\n\t\t}\n\n\t\tpublic editReservation(reservation) {\n\t\t\tthis.$router.push(`/reservation/${reservation.id}`)\n\t\t}\n\n\t\tpublic async deleteReservation(reservation) {\n\t\t\tawait deleteReservation(reservation.id)\n\t\t\tawait getReservations()\n\t\t}\n\t}\n</script>\n\n<template>\n\t<div class=\"container\">\n\t\t<h2>\n\t\t\t<div>Reservations</div>\n\t\t\t<router-link class=\"btn blue\" to=\"/reservation/new\">Create Reservation</router-link>\n\t\t</h2>\n\t\t<Loading v-if=\"loading\" />\n\t\t<div v-if=\"!loading\" class=\"reservations\">\n\t\t\t<ItemCard class=\"reservation card\" v-for=\"reservation in reservations\" :key=\"reservation.id\">\n\t\t\t\t<h3>{{ client(reservation).name }}: {{ reservation.start || 'No start' }} - {{ reservation.end || 'No end' }}</h3>\n\t\t\t\t<div class=\"id\">Booking ID: {{ reservation.id }}</div>\n\t\t\t\t<div class=\"start\">Start: {{ reservation.start || 'No start' }}</div>\n\t\t\t\t<div class=\"end\">End: {{ reservation.end || 'No end' }}</div>\n\t\t\t\t<div class=\"client\">Client: {{ reservation.client || 'No client' }}</div>\n\t\t\t\t<div class=\"room\">Room: {{ reservation.room || 'No room' }}</div>\n\t\t\t\t<div class=\"bill\">Bill: {{ reservation.bill || 'No bill' }}</div>\n\t\t\t\t<template v-slot:menu>\n\t\t\t\t\t<a @click=\"editReservation(reservation)\">Edit</a>\n\t\t\t\t\t<a @click=\"deleteReservation(reservation)\">Delete</a>\n\t\t\t\t</template>\n\t\t\t</ItemCard>\n\t\t</div>\n\t\t<div v-if=\"!reservations.length\">\n\t\t\t<p>There are no reservations</p>\n\t\t</div>\n\t\t<div>\n\t\t\t<router-link class=\"btn\" to=\"/\">Back</router-link> \n\t\t</div>\n\t</div>\n</template>\n\n<style lang=\"scss\" scoped>\n\th2 {\n\t\tposition: relative;\n\t\ta {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tright: 0;\n\t\t}\n\t}\n</style>\n"]}]}