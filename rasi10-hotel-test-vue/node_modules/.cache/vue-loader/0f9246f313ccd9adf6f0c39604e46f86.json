{"remainingRequest":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/src/views/Home.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/src/views/Home.vue","mtime":1602609006981},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/teau/Desktop/cypress-demo-vue-project/rasi10-hotel-test-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENvbXBvbmVudCwgVnVlLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InCmltcG9ydCB7IGNoZWNrTG9nZ2VkSW4sIGdldEFsbCB9IGZyb20gJ0Avc2VydmljZXMvYXBpJwppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZy52dWUnCgpAQ29tcG9uZW50KHsKCWNvbXBvbmVudHM6IHsgTG9hZGluZyB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyBWdWUgewoKCXB1YmxpYyBsb2FkaW5nOiBib29sZWFuID0gZmFsc2UKCglwdWJsaWMgZ2V0IHJvb21zKCkgewoJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5yb29tcwoJfQoKCXB1YmxpYyBnZXQgY2xpZW50cygpIHsKCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY2xpZW50cwoJfQoKCXB1YmxpYyBnZXQgYmlsbHMoKSB7CgkJcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmJpbGxzCgl9CgoJcHVibGljIGdldCByZXNlcnZhdGlvbnMoKSB7CgkJcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJlc2VydmF0aW9ucwoJfQoKCXByaXZhdGUgYXN5bmMgY3JlYXRlZCgpIHsKCQlpZiAoY2hlY2tMb2dnZWRJbigpKSB7CgkJCXRoaXMubG9hZGluZyA9IHRydWUKCQkJYXdhaXQgZ2V0QWxsKCkKCQkJdGhpcy5sb2FkaW5nID0gZmFsc2UKCQl9Cgl9CgoJcHVibGljIGdldCBjdXJyZW50UmVzZXJ2YXRpb25zKCkgewoJCXJldHVybiB0aGlzLnJlc2VydmF0aW9ucy5maWx0ZXIoKHIpID0+IHsKCQkJY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShgJHtyLnN0YXJ0fVQxMjowMDowMGApCgkJCWNvbnN0IGVuZCA9IG5ldyBEYXRlKGAke3IuZW5kfVQxMjowMDowMGApCgkJCWNvbnN0IG5vdyA9IG5ldyBEYXRlKCkKCQkJcmV0dXJuIHN0YXJ0IDw9IG5vdyAmJiBlbmQgPj0gbm93CgkJfSkubGVuZ3RoCgl9CgoJcHVibGljIGdldCBwYWlkQmlsbHMoKSB7CgkJcmV0dXJuIHRoaXMuYmlsbHMuZmlsdGVyKChiKSA9PiBiLnBhaWQpCgl9CgoJcHVibGljIGdldCBiaWxsc1ZhbHVlKCkgewoJCXJldHVybiB0aGlzLmJpbGxzLm1hcCgoYikgPT4gYi52YWx1ZSkucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkKCX0KCglwdWJsaWMgZ2V0IHBhaWRCaWxsc1ZhbHVlKCkgewoJCXJldHVybiB0aGlzLnBhaWRCaWxscy5tYXAoKGIpID0+IGIudmFsdWUpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApCgl9Cgp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<script lang=\"ts\">\n\timport { Component, Vue, Watch } from 'vue-property-decorator'\n\timport { checkLoggedIn, getAll } from '@/services/api'\n\timport Loading from '@/components/Loading.vue'\n\n\t@Component({\n\t\tcomponents: { Loading }\n\t})\n\texport default class Home extends Vue {\n\n\t\tpublic loading: boolean = false\n\n\t\tpublic get rooms() {\n\t\t\treturn this.$store.state.rooms\n\t\t}\n\n\t\tpublic get clients() {\n\t\t\treturn this.$store.state.clients\n\t\t}\n\n\t\tpublic get bills() {\n\t\t\treturn this.$store.state.bills\n\t\t}\n\n\t\tpublic get reservations() {\n\t\t\treturn this.$store.state.reservations\n\t\t}\n\n\t\tprivate async created() {\n\t\t\tif (checkLoggedIn()) {\n\t\t\t\tthis.loading = true\n\t\t\t\tawait getAll()\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t}\n\n\t\tpublic get currentReservations() {\n\t\t\treturn this.reservations.filter((r) => {\n\t\t\t\tconst start = new Date(`${r.start}T12:00:00`)\n\t\t\t\tconst end = new Date(`${r.end}T12:00:00`)\n\t\t\t\tconst now = new Date()\n\t\t\t\treturn start <= now && end >= now\n\t\t\t}).length\n\t\t}\n\n\t\tpublic get paidBills() {\n\t\t\treturn this.bills.filter((b) => b.paid)\n\t\t}\n\n\t\tpublic get billsValue() {\n\t\t\treturn this.bills.map((b) => b.value).reduce((a, b) => a + b, 0)\n\t\t}\n\n\t\tpublic get paidBillsValue() {\n\t\t\treturn this.paidBills.map((b) => b.value).reduce((a, b) => a + b, 0)\n\t\t}\n\n\t}\n</script>\n\n<template>\n\t<div class=\"container\">\n\t\t<h2>Tester Hotel Overview</h2>\n\t\t<Loading v-if=\"loading\" />\n\t\t<div v-if=\"!loading\" class=\"blocks\">\n\t\t\t<div class=\"block\">\n\t\t\t\t<h4>Rooms</h4>\n\t\t\t\t<div>Number: {{ rooms.length }}</div>\n\t\t\t\t<router-link to=\"/rooms\" class=\"btn\">View</router-link>\n\t\t\t</div>\n\t\t\t<div class=\"block\">\n\t\t\t\t<h4>Clients</h4>\n\t\t\t\t<div>Number: {{ clients.length }}</div>\n\t\t\t\t<router-link to=\"/clients\" class=\"btn\">View</router-link>\n\t\t\t</div>\n\t\t\t<div class=\"block\">\n\t\t\t\t<h4>Bills</h4>\n\t\t\t\t<div>Total: {{ bills.length }} ({{ billsValue }}kr)</div>\n\t\t\t\t<div>Paid: {{ paidBills.length }} ({{ paidBillsValue }}kr)</div>\n\t\t\t\t<router-link to=\"/bills\" class=\"btn\">View</router-link>\n\t\t\t</div>\n\t\t\t<div class=\"block\">\n\t\t\t\t<h4>Reservations</h4>\n\t\t\t\t<div>Total: {{ reservations.length }}</div>\n\t\t\t\t<div>Current: {{ currentReservations }}</div>\n\t\t\t\t<router-link to=\"/reservations\" class=\"btn\">View</router-link>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style lang=\"scss\" scoped>\n\t.blocks {\n\t\t\n\t\t.block {\n\t\t\tdisplay: inline-block;\n\t\t\tpadding: 2rem 0.5rem;\n\t\t\tbackground: #777777;\n\t\t\tcolor: #FFFFFF;\n\t\t\twidth: 340px;\n\t\t\tmax-width: calc(100% - 6rem);\n\t\t\tvertical-align: top;\n\t\t\tmargin: 0 1rem 2rem;\n\n\t\t\th4 {\n\t\t\t\tmargin-top: 0;\n\t\t\t}\n\n\t\t\t.btn {\n\t\t\t\tbackground: #FFFFFF;\n\t\t\t\tmargin-top: 2rem;\n\t\t\t\ttransition: box-shadow 0.2s ease-in-out;\n\t\t\t\t&:hover,\n\t\t\t\t&:focus {\n\t\t\t\t\tbox-shadow: 0px 3px 5px rgba(0, 0, 0, 0.35);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&:nth-child(1) { background: #AA3939; .btn { color: #AA3939 } }\n\t\t\t&:nth-child(2) { background: #AA6C39; .btn { color: #AA6C39 } }\n\t\t\t&:nth-child(3) { background: #226666; .btn { color: #226666 } }\n\t\t\t&:nth-child(4) { background: #2D882D; .btn { color: #2D882D } }\n\t\t}\n\t}\n</style>\n"]}]}